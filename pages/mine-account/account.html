<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>帳戶</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <body data-page="mylist" class="ma-account">


        <div class="phone-frame ">
          
        <div class="phone-frame-relative ">
          <div class="appbar-layer">  <!-- 不佔版位的覆蓋層 -->

</div>

          <div class="gradient-overlay"></div>



                <div class="phone-screen phone-screen-after"> 

                  <!-- 🔽 固定在最上方的 Status Bar -->
                   <div class="appbar-stack">
    <h1 class="appbar__title text-white h5">個人資料頁</h1>
    <img src="/assets/images/AppFrame/Status Bar.svg" 
         alt="Status Bar " 
         class="account-status-bar" >
         </div>


            <nav class="glass-nav glass-nav-fixed" aria-label="主選單">
                <a class="glass-nav__item" href="https://gccbs01002.github.io/Moodie/"><img src="/assets/images/Icon/Home(Gray).svg" alt="首頁"><span>首頁</span></a>
                <a class="glass-nav__item" href="https://gccbs01002.github.io/Moodie/roles/excitement.html"><img src="/assets/images/Icon/Heart(Gray).svg" alt="情緒片單"><span>情緒片單</span></a>
                <a class="glass-nav__item " href="https://gccbs01002.github.io/Moodie/search/search-placeholder.html"><img src="/assets/images/Icon/Search(Gray).svg" alt="搜尋"><span>搜尋</span></a>
                <a class="glass-nav__item" href="https://gccbs01002.github.io/Moodie/mine-account/playlist.html"><img src="/assets/images/Icon/Bookmark(Gray).svg" alt="個人片單"><span>個人片單</span></a>
                <a class="glass-nav__item is-active" href="https://gccbs01002.github.io/Moodie/mine-account/account.html"><img src="/assets/images/Icon/User(Gray).svg" alt="帳戶"><span>帳戶</span></a>
            </nav>


      <main class="main-page">

<!-- 不佔高度的背景層 -->
<div class="appbar-bg" aria-hidden="true"></div>

          <!-- 頂部標題列 -->
           

<div class="card__head d-flex justify-content-between align-items-center">
  <h2 class="h5 text-white">觀影行為週報</h2>
                <time class="h6 card__time text-white">7/20 - 7/26</time>
</div>

          <!-- 觀影行為週報 -->
          <section class="card card--chart">

        
              <div id="chart-week" class="chart-placeholder" aria-hidden="true">chart</div>
              <ul class="legend">
                <li><span class="dot dot--yellow"></span>喜劇</li>
                <li><span class="dot dot--green"></span>平和</li>
                <li><span class="dot dot--blue"></span>科幻</li>
                <li><span class="dot dot--purple"></span>驚悚</li>

              </ul>
     
          </section>

          <!-- 觀影情報快報 -->
<div class="card__head2 d-flex justify-content-between align-items-center">
  <h2 class="h5 text-white">觀影情緒解讀</h2>
  <a class="card__more text-white" href="#" id="toggleBtn">查看更多</a>
</div>


          <section class="card card--news ">
            

       
              <p class="news__text newstext-center" id="newsText">
                根據本週觀影紀錄，你偏好選擇節奏明快、具娛樂性</br>
                或療癒感的內容，佔比高達 86%。整體偏好顯示你近</br>
                期傾向透過影視獲得能量與舒緩，較少接觸情緒張力</br>
                強烈的題材。建議可延伸探索帶有驚喜或溫暖氛圍的</br>
                作品，持續維持良好狀態，如果想嘗試點不一樣的感受
                ，也許可以慢慢探索其他風格。
              </p>
    
          </section>

          <!-- 使用者卡 -->
          <section class="card card--profile">
            <div class="profile">
              <img class="profile__avatar rounded-5" src="/assets/images/page-personal/Placeholder Circle.jpg" alt="avatar" />
              <div class="profile__meta">
                <div class="profile__name">
                  Simon Lin <span class="badge">已驗證</span>
                </div>
                <div class="profile__mail text-white">sagdrsmorisn@gmail.com</div>
              </div>
            </div>
          </section>

          <!-- 設定清單 -->
          <nav class="settings ">
            <a class="settings__item text-white" href="#"><i class="bi bi-person"></i><span>帳號</span><i class="bi bi-chevron-right chevron"></i></a>

            <a class="settings__item text-white" href="#"><i class="bi bi-shield-check"></i><span>隱私</span><i class="bi bi-chevron-right chevron"></i></a>
            
            <label class="settings__item settings__item--switch text-white">
              <i class="bi bi-bell"></i><span>通知</span>
              <input type="checkbox" class="switch" checked />
            </label>
            <a class="settings__item text-white" href="#"><i class="bi bi-hand-thumbs-up"></i><span>隱私偏好條款</span><i class="bi bi-chevron-right chevron"></i></a>
            <a class="settings__item text-white" href="#"><i class="bi bi-question-circle"></i><span>幫助中心</span><i class="bi bi-chevron-right chevron"></i></a>
            <a class="settings__item text-white" href="#"><i class="bi bi-chat-dots"></i><span>聯繫</span><i class="bi bi-chevron-right chevron"></i></a>
          </nav>

          <!-- 登出 -->
          <button class="btn btn--block btn--logout mb-5" >登出</button>

          <div style="height:16px"></div>
        </main>


        

                      </div>
            <footer class="Home-Indicator"></footer>
        </div>
        
        <img src="/assets/images/AppFrame/iPhone_15_Pro_Black_Titanium_Mock_Up(O).png" alt="" class="phone-overlay">
        
<script type="module">
  // 讓 switch 有可視狀態（已用 CSS 外觀，不需額外 JS）
  document.querySelectorAll('.settings__item--switch .switch').forEach(sw=>{
    sw.addEventListener('change', () => {
      // 你可以在這裡串接本地儲存或 API
      console.log('通知開關：', sw.checked);
    });
  });

  // 圖表：先放佔位，之後可換 Chart.js / Recharts
  const el = document.getElementById('chart-week');
  if (el) el.textContent = '（放你的圖表元件）';
</script>

<script>
(() => {
  const ctx = document.getElementById('chart-week').getContext('2d');

  // 顏色：對應你的圖
  const C = {
    yellow: '#F0B000', // 喜劇
    green:  '#00C950', // 平和
    blue:   '#193CB8', // 科幻
    purple: '#7007E7', // 驚悚

  };

  // 週標籤
  const labels = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

  // 每個情緒(類別)各自的時數
  const ds = {
    comedy:   [6, 0,   0,   0,   0, 5, 7],   // 黃
    scifi:    [0, 3, 2.5,  0,   3, 0, 0],   // 藍
    thriller: [0, 1,   2,  0,   0, 0, 0],   // 紫
    adventure:[0, 0,   0,   4, 0.5, 0, 0],   // 綠
  };

  // 找出每一個 x (日) 欄位中「最後一個非 0 的資料集」，讓它的 bar 有圓角
  function radiusFor(ctx) {
    const i = ctx.dataIndex;
    const dsIndex = ctx.datasetIndex;
    const stacks = ctx.chart.data.datasets.map(d => +d.data[i] || 0);
    let last = -1;
    for (let j = 0; j < stacks.length; j++) if (stacks[j] > 0) last = j;
    return dsIndex === last ? 14 : 0; // 只有最上層做圓角
  }

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels,
      datasets: [
        { label: '喜劇',   data: ds.comedy,   backgroundColor: C.yellow, borderSkipped: false, borderRadius: radiusFor, barPercentage: .55, categoryPercentage: .8 },
        { label: '驚悚',   data: ds.thriller, backgroundColor: C.purple, borderSkipped: false, borderRadius: radiusFor, barPercentage: .55, categoryPercentage: .8 },
        { label: '科幻',   data: ds.scifi,    backgroundColor: C.blue,   borderSkipped: false, borderRadius: radiusFor, barPercentage: .55, categoryPercentage: .8 },
        { label: '平和',   data: ds.adventure,backgroundColor: C.green,  borderSkipped: false, borderRadius: radiusFor, barPercentage: .55, categoryPercentage: .8 },
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: { label: c => `${c.dataset.label}: ${c.parsed.y} hr` }
        }
      },
      scales: {
        x: {
          stacked: true,
          grid: { display: false },
          ticks: { color: getComputedStyle(document.documentElement).getPropertyValue('--tick') || '#cfd6de' }
        },
        y: {
          stacked: true,
          beginAtZero: true,
          suggestedMax: 10,
          ticks: {
            color: getComputedStyle(document.documentElement).getPropertyValue('--tick') || '#cfd6de',
            callback: v => `${v} hr`
          },
          grid: { color: getComputedStyle(document.documentElement).getPropertyValue('--grid') || 'rgba(255,255,255,.09)' }
        }
      },
      layout: { padding: { top: 8, right: 8, bottom: 4, left: 8 } }
    }
  });
})();
</script>




<script>
  const toggleBtn = document.getElementById('toggleBtn');
  const newsText = document.getElementById('newsText');

  toggleBtn.addEventListener('click', (e) => {
    e.preventDefault();
    newsText.classList.toggle('is-expanded');
    toggleBtn.textContent = newsText.classList.contains('is-expanded')
      ? '查看更多'
      : '查看更多';
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
    <script type="module" src="/main.js"></script>


  </body>
</html>
